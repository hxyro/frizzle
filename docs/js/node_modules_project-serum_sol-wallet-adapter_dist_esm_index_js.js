"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_project-serum_sol-wallet-adapter_dist_esm_index_js"],{

/***/ "./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Wallet; }\n/* harmony export */ });\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.error.cause.js */ \"./node_modules/core-js/modules/es.error.cause.js\");\n/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.typed-array.at.js */ \"./node_modules/core-js/modules/es.typed-array.at.js\");\n/* harmony import */ var core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_at_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.typed-array.set.js */ \"./node_modules/core-js/modules/es.typed-array.set.js\");\n/* harmony import */ var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @solana/web3.js */ \"./node_modules/@solana/web3.js/lib/index.browser.esm.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bs58 */ \"./node_modules/bs58/index.js\");\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bs58__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\n\n\n\nclass Wallet extends (eventemitter3__WEBPACK_IMPORTED_MODULE_3___default()) {\n  constructor(provider, _network) {\n    super();\n    this._network = _network;\n    this._publicKey = null;\n    this._popup = null;\n    this._handlerAdded = false;\n    this._nextRequestId = 1;\n    this._autoApprove = false;\n    this._responsePromises = new Map();\n\n    this.handleMessage = e => {\n      var _a;\n\n      if (this._injectedProvider && e.source === window || e.origin === ((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.origin) && e.source === this._popup) {\n        if (e.data.method === 'connected') {\n          const newPublicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(e.data.params.publicKey);\n\n          if (!this._publicKey || !this._publicKey.equals(newPublicKey)) {\n            if (this._publicKey && !this._publicKey.equals(newPublicKey)) {\n              this.handleDisconnect();\n            }\n\n            this._publicKey = newPublicKey;\n            this._autoApprove = !!e.data.params.autoApprove;\n            this.emit('connect', this._publicKey);\n          }\n        } else if (e.data.method === 'disconnected') {\n          this.handleDisconnect();\n        } else if (e.data.result || e.data.error) {\n          const promises = this._responsePromises.get(e.data.id);\n\n          if (promises) {\n            const [resolve, reject] = promises;\n\n            if (e.data.result) {\n              resolve(e.data.result);\n            } else {\n              reject(new Error(e.data.error));\n            }\n          }\n        }\n      }\n    };\n\n    this._beforeUnload = () => {\n      void this.disconnect();\n    };\n\n    if (isInjectedProvider(provider)) {\n      this._injectedProvider = provider;\n    } else if (isString(provider)) {\n      this._providerUrl = new URL(provider);\n      this._providerUrl.hash = new URLSearchParams({\n        origin: window.location.origin,\n        network: this._network\n      }).toString();\n    } else {\n      throw new Error('provider parameter must be an injected provider or a URL string.');\n    }\n  }\n\n  handleConnect() {\n    var _a;\n\n    if (!this._handlerAdded) {\n      this._handlerAdded = true;\n      window.addEventListener('message', this.handleMessage);\n      window.addEventListener('beforeunload', this._beforeUnload);\n    }\n\n    if (this._injectedProvider) {\n      return new Promise(resolve => {\n        void this.sendRequest('connect', {});\n        resolve();\n      });\n    } else {\n      window.name = 'parent';\n      this._popup = window.open((_a = this._providerUrl) === null || _a === void 0 ? void 0 : _a.toString(), '_blank', 'location,resizable,width=460,height=675');\n      return new Promise(resolve => {\n        this.once('connect', resolve);\n      });\n    }\n  }\n\n  handleDisconnect() {\n    if (this._handlerAdded) {\n      this._handlerAdded = false;\n      window.removeEventListener('message', this.handleMessage);\n      window.removeEventListener('beforeunload', this._beforeUnload);\n    }\n\n    if (this._publicKey) {\n      this._publicKey = null;\n      this.emit('disconnect');\n    }\n\n    this._responsePromises.forEach(([, reject], id) => {\n      this._responsePromises.delete(id);\n\n      reject(new Error('Wallet disconnected'));\n    });\n  }\n\n  sendRequest(method, params) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (method !== 'connect' && !this.connected) {\n        throw new Error('Wallet not connected');\n      }\n\n      const requestId = this._nextRequestId;\n      ++this._nextRequestId;\n      return new Promise((resolve, reject) => {\n        var _a, _b, _c, _d;\n\n        this._responsePromises.set(requestId, [resolve, reject]);\n\n        if (this._injectedProvider) {\n          this._injectedProvider.postMessage({\n            jsonrpc: '2.0',\n            id: requestId,\n            method,\n            params: Object.assign({\n              network: this._network\n            }, params)\n          });\n        } else {\n          (_a = this._popup) === null || _a === void 0 ? void 0 : _a.postMessage({\n            jsonrpc: '2.0',\n            id: requestId,\n            method,\n            params\n          }, (_c = (_b = this._providerUrl) === null || _b === void 0 ? void 0 : _b.origin) !== null && _c !== void 0 ? _c : '');\n\n          if (!this.autoApprove) {\n            (_d = this._popup) === null || _d === void 0 ? void 0 : _d.focus();\n          }\n        }\n      });\n    });\n  }\n\n  get publicKey() {\n    return this._publicKey;\n  }\n\n  get connected() {\n    return this._publicKey !== null;\n  }\n\n  get autoApprove() {\n    return this._autoApprove;\n  }\n\n  connect() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this._popup) {\n        this._popup.close();\n      }\n\n      yield this.handleConnect();\n    });\n  }\n\n  disconnect() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this._injectedProvider) {\n        yield this.sendRequest('disconnect', {});\n      }\n\n      if (this._popup) {\n        this._popup.close();\n      }\n\n      this.handleDisconnect();\n    });\n  }\n\n  sign(data, display) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!(data instanceof Uint8Array)) {\n        throw new Error('Data must be an instance of Uint8Array');\n      }\n\n      const response = yield this.sendRequest('sign', {\n        data,\n        display\n      });\n      const signature = bs58__WEBPACK_IMPORTED_MODULE_5___default().decode(response.signature);\n      const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(response.publicKey);\n      return {\n        signature,\n        publicKey\n      };\n    });\n  }\n\n  signTransaction(transaction) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const response = yield this.sendRequest('signTransaction', {\n        message: bs58__WEBPACK_IMPORTED_MODULE_5___default().encode(transaction.serializeMessage())\n      });\n      const signature = bs58__WEBPACK_IMPORTED_MODULE_5___default().decode(response.signature);\n      const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(response.publicKey);\n      transaction.addSignature(publicKey, signature);\n      return transaction;\n    });\n  }\n\n  signAllTransactions(transactions) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const response = yield this.sendRequest('signAllTransactions', {\n        messages: transactions.map(tx => bs58__WEBPACK_IMPORTED_MODULE_5___default().encode(tx.serializeMessage()))\n      });\n      const signatures = response.signatures.map(s => bs58__WEBPACK_IMPORTED_MODULE_5___default().decode(s));\n      const publicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_4__.PublicKey(response.publicKey);\n      transactions = transactions.map((tx, idx) => {\n        tx.addSignature(publicKey, signatures[idx]);\n        return tx;\n      });\n      return transactions;\n    });\n  }\n\n  diffieHellman(publicKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!(publicKey instanceof Uint8Array)) {\n        throw new Error('Data must be an instance of Uint8Array');\n      }\n\n      const response = yield this.sendRequest('diffieHellman', {\n        publicKey\n      });\n      return response;\n    });\n  }\n\n}\n\nfunction isString(a) {\n  return typeof a === 'string';\n}\n\nfunction isInjectedProvider(a) {\n  return isObject(a) && 'postMessage' in a && typeof a.postMessage === 'function';\n}\n\nfunction isObject(a) {\n  return typeof a === 'object' && a !== null;\n}\n\n//# sourceURL=webpack://app/./node_modules/@project-serum/sol-wallet-adapter/dist/esm/index.js?");

/***/ })

}]);